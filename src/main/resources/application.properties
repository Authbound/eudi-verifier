# Enables logging of Mongo mapping events
logging.level.org.springframework=INFO
logging.level.org.springframework.boot.actuate.endpoint.web=DEBUG

management.endpoints.enabled-by-default=true
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoints.web.base-path=/
management.endpoints.web.path-mapping.prometheus=metrics
management.endpoints.web.path-mapping.health=health
management.endpoint.health.probes.enabled=true
management.endpoint.health.group.readiness.include=readinessState,redis
management.endpoint.health.group.liveness.include=livenessState
management.metrics.tags.application=eudi-verifier
server.error.includeStacktrace=ALWAYS
server.port=8080
spring.webflux.static-path-pattern=/public/**
spring.webflux.webjars-path-pattern=/webjars/**
spring.messages.basename=i18n/messages
spring.data.redis.url=${SPRING_DATA_REDIS_URL:${SPRING_REDIS_URL:${REDIS_URL:redis://localhost:6379}}}
spring.data.redis.ssl.enabled=${SPRING_DATA_REDIS_SSL_ENABLED:${SPRING_REDIS_SSL:false}}

#
# Verifier options
#
verifier.originalClientId=Verifier
verifier.clientIdScheme=pre-registered
verifier.jar.signing.algorithm=ES256
# NOTE: GenerateRandom is for local/dev only. Production must use LoadFromKeystore.
verifier.jar.signing.key=GenerateRandom
#verifier.jar.signing.key=LoadFromKeystore
#verifier.jar.signing.key.keystore=
#verifier.jar.signing.key.keystore.type=
#verifier.jar.signing.key.keystore.password=
#verifier.jar.signing.key.alias=
#verifier.jar.signing.key.password=
verifier.publicUrl=http://localhost:${server.port}
verifier.requestJwt.embed=ByReference
verifier.requestJwt.requestUriMethod=Get
verifier.response.mode=DirectPostJwt
verifier.maxAge=PT6400M
verifier.presentations.cleanup.maxAge=P10D
verifier.authorizationRequestUri=haip-vp://
verifier.allowedRedirectUriSchemes=https
verifier.persistence=redis

# s2s auth (gateway -> verifier)
verifier.s2s.enabled=true
verifier.s2s.jwks-url=${EUDI_S2S_JWKS_URL:http://localhost:8080/.well-known/eudi-s2s-jwks.json}
verifier.s2s.issuer=${EUDI_S2S_ISSUER:http://localhost:8080}
verifier.s2s.audience=${EUDI_S2S_AUDIENCE:eudi-verifier}
verifier.s2s.issuers=${EUDI_S2S_ISSUERS:}
verifier.s2s.audiences=${EUDI_S2S_AUDIENCES:}
verifier.s2s.clock-skew-seconds=${EUDI_S2S_CLOCK_SKEW_SECONDS:60}

# clientMetadata parameters
verifier.clientMetadata.vpFormats.sdJwtVc.enabled=true
verifier.clientMetadata.vpFormats.sdJwtVc.sdJwtAlgorithms=ES256
verifier.clientMetadata.vpFormats.sdJwtVc.kbJwtAlgorithms=ES256
verifier.clientMetadata.vpFormats.msoMdoc.enabled=true

#
# Configuration parameters for validations applied by verifier
# to wallet presentations or in utilities api
#
verifier.validation.sdJwtVc.statusCheck.enabled=true

# transaction data
verifier.transactionData.hashAlgorithm=sha-256

# cors
cors.origins=*
cors.originPatterns=*
cors.methods=*
cors.headers=*
cors.credentials=false
cors.maxAge=3600

server.address=127.0.0.1



# Trust Sources
#verifier.trustSources[0].pattern=.*
#verifier.trustSources[0].keystore.path=classpath:lotl.jks
#verifier.trustSources[0].keystore.type=JKS
#verifier.trustSources[0].keystore.password=

# Proxy settings
#verifier.http.proxy.url=http://exmaple.com
#verifier.http.proxy.username=test
#verifier.http.proxy.password=test

# SD-JWT VC Type Metadata policy
verifier.validation.sdJwtVc.typeMetadata.policy=not-used
#verifier.validation.sdJwtVc.typeMetadata.policy.requiredFor=urn:eudi:pid:1

# SD-JWT VC Type Metadata resolution
verifier.validation.sdJwtVc.typeMetadata.resolution.cache.ttl=PT1H
verifier.validation.sdJwtVc.typeMetadata.resolution.cache.maxEntries=10
verifier.validation.sdJwtVc.typeMetadata.resolution.integrity.enabled=false
verifier.validation.sdJwtVc.typeMetadata.resolution.integrity.allowedAlgorithms=sha256,sha384,sha512
#verifier.validation.sdJwtVc.typeMetadata.resolution.vcts[0].vct=urn:eudi:pid:1
#verifier.validation.sdJwtVc.typeMetadata.resolution.vcts[0].url=https://dev.issuer-backend.eudiw.dev/type-metadata/urn:eudi:pid:1
verifier.validation.sdJwtVc.typeMetadata.jsonSchema.validation.enabled=true
